<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

html, body {
    margin: 0;
    padding: 0;
    scroll-behavior: smooth;
    width: 100%;
    overflow-x: hidden;
}


.Page{
    display: flex;
    flex-direction: column;
    width:100%;
    min-height:100vh;
    height:auto;
    background-color:rgb(29, 34, 41);
    background: linear-gradient(0deg,rgb(13, 17, 19) 0%, rgba(29, 34, 41, 1) 100%);
    color:rgb(0, 0, 0);
    margin-bottom: 0px;
    scroll-snap-align: start;
    box-sizing: border-box;
}

/* Top navigation bar */
.navbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.08);   /* subtle transparent white */
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);

  display: flex;
  justify-content: space-between;
  align-items: center;

  padding: 1rem 2rem;
  z-index: 1000;
}

/* Left logo */
.logo {
    font-size: 1.5rem;
    font-weight: bold;
    color: white;
}


/* Nav links */
.nav-links {
    list-style: none;
    display: flex;
    gap: 2rem;
    margin: 0;
    padding: 0;
    padding-right: 4rem;

}

/* Nav links clicked */
.nav-links a {
    color: white;
    text-decoration: none;
    font-size: 1.1rem;
    transition: opacity 0.2s ease;
  
}

/* Nav links hover */
.nav-links a:hover {
    opacity: 0.6;
}

/* Demo background colors */
#home { background: #111; color: white; }
#about { background: #333; color: white; }
#projects { background: #555; color: white; }
#contact { background: #777; color: white; }


/* Container for page title */
.Title-Container{
    display: block;
    text-align: center;
    justify-content: center;
    font-size:3rem;
    color:#19c9ff;
    text-shadow: 0 0 18px rgba(0, 132, 255, 0.1);
    font-family: "Poppins", sans-serif;
    font-weight: 700;
    padding-top: 4rem;
}

/* Container for page title description */
.Title-Container--Desc{
    display: block;
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
    font-size:1rem;
    color:#999999;
    font-family: "Poppins", sans-serif;
    font-weight: 700;
    padding-top: 1rem;
}

.Cards-Container{
    display: flex;
    flex-wrap:wrap;
    gap: 1rem;
    padding: 1rem;
    justify-content: center;
    width:100%;
    height:auto;
    margin:1rem;
    margin-inline: auto;
}

.card {
    width: clamp(280px, 90vw, 420px);
    
    max-width: 420px; 
    height: 380px;
    background: rgba(49, 54, 56, 0.4);
    justify-content: center;
    border-radius: 20px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    margin-right: 2rem;
    border: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.6);

    font-family: "Poppins", sans-serif;

    transition:
        transform 0.25s ease,
        box-shadow 0.25s ease,
        border-color 0.25s ease;
}

/* Top image area (about 75%) */
.card-image {
    flex: 0 0 75%;
    position: relative;
    overflow: hidden;
    transition: filter 0.5s ease;
}

.card-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.6s ease;
}

/* Bottom text area */
.card-body {
    flex: 1;
    padding: 1.1rem 1.3rem 1.3rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
}

.card-title {
    margin: 0 0 0.35rem;
    font-size: 1.15rem;
    font-weight: 700;
    color: #ffffff;
}

.card-text {
    margin: 0;
    font-size: 0.95rem;
    line-height: 1.4;
    color: rgba(255, 255, 255, 0.75);
}
.card:hover {
    border-color: rgba(0, 255, 255, 0.4);
    cursor: pointer;
}

.card:hover .card-image img {
    transform: scale(1.08);
    filter: brightness(0.8);
}

</style>
</head>

<script type="text/javascript" src="http://colepeterson.net/Javascript/jquery-3.4.0.js"></script>

<script>
    
    // Wait until DOM is loaded
    document.addEventListener("DOMContentLoaded", () => {
        
        // TODO: make this work on my server 
        async function SetShader(name, path, description, mode)
        {
            const response = await fetch(path);
            const text = await response.text();

            window.localStorage.setItem("sid", text);
            window.localStorage.setItem("snm", name);
            window.localStorage.setItem("sdesc", description);
            window.localStorage.setItem("nfiles", 1);

            //window.location = "ShaderViewer.html";
            window.location.href = "ShaderViewer.html?mode=" + encodeURIComponent(mode);
        }


        async function SetMultiBufferShader(name, srcs, description)
        {
    
            // Store all shader source files for use in shader viewer
            for(let i = 0; i < srcs.length; i++)
            {
                const response = await fetch(srcs[i]);
                const text = await response.text();
                
                window.localStorage.setItem("sids" + i, text);
            }

            const response = await fetch(srcs[0]);
            const text = await response.text();

            //window.localStorage.setItem("sids", srcList);
            window.localStorage.setItem("sid", text);

            // Store shader name and description for shader viewer
            window.localStorage.setItem("snm", name);
            window.localStorage.setItem("sdesc", description);
            window.localStorage.setItem("nfiles", srcs.length);

            // Navigate to shader viewer
            window.location = "ShaderViewer.html";
        }


        // When shader is clicked grab and store neccesary information
        document.querySelectorAll(".card").forEach(card => {
        card.addEventListener("click", (event) => {
            const path = event.currentTarget.dataset.path;
            const name = event.currentTarget.dataset.name;
            const description = event.currentTarget.dataset.description;

            const path2 = event.currentTarget.dataset.path2;
            const pass = event.currentTarget.dataset.pass;
            const mode = event.currentTarget.dataset.mode;

                if(!path2 || !pass)
                {
                    SetShader(name, path, description, mode);
                }
                else if(pass == "2")
                {
                    SetMultiBufferShader(name, [path, path2], description);
                }
            });
        });



    });


</script>


<body>

<nav class="navbar">
    <div class="logo">Cole Peterson</div>
    <ul class="nav-links">
      <li><a href="index.html">Home</a></li>
      <li><a href="index.html">About</a></li>
      <li><a href="index.html">Projects</a></li>
      <li><a href="index.html">Contact</a></li>
    </ul>
  </nav>


<div class = "Page" id = "Page1">


    <div class = "Title-Container">Shader Gallery</div>
    <div class = "Title-Container Title-Container--Desc">Here is a collection of my pixel shader art ported from <span><a href = "https://www.shadertoy.com/user/Plento" style = "text-decoration: none;">shadertoy</a></span> to a custom built WebGL shader viewer.</div>




    <div class = "Cards-Container">

        <div class="card" id = "CircleDay" data-path = "Shaders/CircleDay.txt" data-path2 = "" data-pass = "1" data-mode = "CircleDay" data-name = "Circle a Day" data-description = "Circles and a loop. Made shader of the week!">
            <div class="card-image">
                <img src="Images/shader_circle.jpg" alt="Circle a Day">
            </div>

            <div class="card-body">
                <h3 class="card-title">Circle a Day</h3>
                <p class="card-text">
                Circles and a loop. Made shader of the week!
                </p>
            </div>
        </div>

        <div class="card" id = "FractalDoodle" data-path = "Shaders/FractalDoodle.txt" data-path2 = "" data-pass = "1" data-mode = "FractalDoodle" data-name = "Fractal Pattern Doodle" data-description = "Tree like fractal in repeating space">
            <div class="card-image">
                <img src="Images/Card_Shaders.jpg" alt="Fractal Pattern Doodle">
            </div>

            <div class="card-body">
                <h3 class="card-title">Fractal Pattern Doodle</h3>
                <p class="card-text">
                Tree like fractal in repeating space
                </p>
            </div>
        </div>

        <div class="card" id = "Coaster" data-path = "Shaders/coaster2d.txt" data-path2 = "" data-pass = "1" data-mode = "Coaster" data-name = "Roller Coaster 2D" data-description = "Cute little roller coaster made from 2d SDF's">
            <div class="card-image">
                <img src="Images/shader_coaster.jpg" alt="Roller Coaster 2D">
            </div>

            <div class="card-body">
                <h3 class="card-title">Roller Coaster 2D</h3>
                <p class="card-text">
                Cute little roller coaster made from 2d SDF's
                </p>
            </div>
        </div>

        <div class="card" id = "Bridges" data-path = "Shaders/WeavingBridges.txt" data-path2 = "" data-pass = "1" data-mode = "Bridges" data-name = "Weaving Bridges" data-description = "Infinite traffic!">
            <div class="card-image">
                <img src="Images/shader_bridges.jpg" alt="Weaving Bridges">
            </div>

            <div class="card-body">
                <h3 class="card-title">Weaving Bridges</h3>
                <p class="card-text">
                Infinite traffic!
                </p>
            </div>
        </div>

        <div class="card" id = "Jelly" data-path = "Shaders/jellybox.txt" data-path2 = "" data-pass = "1" data-mode = "Jelly" data-name = "Jelly Box" data-description = "Some basic raymarching with transparency">
            <div class="card-image">
                <img src="Images/shader_jelly.jpg" alt="Jelly Box">
            </div>

            <div class="card-body">
                <h3 class="card-title">Jelly Box</h3>
                <p class="card-text">
                Some basic raymarching with transparency
                </p>
            </div>
        </div>

        <div class="card" id = "Jungle" data-path = "Shaders/jungle.txt" data-path2 = "" data-pass = "1" data-mode = "Jungle" data-name = "Coaster Jungle" data-description = "Raymarched SDF rollercoaster scene">
            <div class="card-image">
                <img src="Images/shader_jungle.jpg" alt="Coaster Jungle">
            </div>

            <div class="card-body">
                <h3 class="card-title">Coaster Jungle</h3>
                <p class="card-text">
                Raymarched SDF rollercoaster scene
                </p>
            </div>
        </div>

        <div class="card" id = "Blobby" data-path = "Shaders/blobbymass_image.txt" data-path2 = "Shaders/blobbymass_A.txt" data-pass = '2' data-mode = "Blobby" data-name = "Blobby Mass" data-description = "Multi pass particles that want to clump together">
            <div class="card-image">
                <img src="Images/shader_blob.jpg" alt="Blobby Mass">
            </div>

            <div class="card-body">
                <h3 class="card-title">Blobby Mass</h3>
                <p class="card-text">
                Multi pass particles that want to clump together
                </p>
            </div>
        </div>

        


    </div>

</div>









</body>


</html>